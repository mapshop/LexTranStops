<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8" />
	<!-- add a title for the overall map page here -->
	<title>LexTran Stop Locations</title>

	<!-- Leaflet stylesheet -->
	<link rel="stylesheet" href="http://cdn.leafletjs.com/leaflet/v0.7.7/leaflet.css" />

	<!-- Leaflet.js -->
	<script src="http://cdn.leafletjs.com/leaflet/v0.7.7/leaflet.js"></script>

	<!-- Stamen Tiles -->
	<script src="http://maps.stamen.com/js/tile.stamen.js"></script>

	<style>
	html, body, #mapDiv {
		height: 100%;
		width: 100%;
	}
	.leaflet-popup-content-wrapper {
		opacity: 0.9;
		border-radius: 5px;
	}
	h1 {
        position: absolute;
        z-index: 100;
        top: 10px;
        left: 60px;
        padding: 8px 15px;
        margin: 0;
        color: whitesmoke;
        font-size: 1.3em;
        background: rgba(25,25,25,0.8);
        border-radius: 0; 
        font-weight: normal;
    }
	</style>
</head>
<body>
	<div id='mapDiv'></div>

	<!-- add the javascript file here -->
	<script src = "lextranstops.js"></script>
		
<script>
	//Create map
	var map = new L.map('mapDiv', {
		//change the centering and zoom as needed
		center: [38.055,-84.483],
		zoom: 14,
		minZoom: 10,
		maxZoom: 17,
		zoomControl: true,
		dragging: true,
	});

	// Add tile layer
	var layer = new L.StamenTileLayer("toner-lite");

	map.addLayer(layer);
	
	//create some icons!
	var starIcon = L.icon({
            iconUrl: 'star.png',
            iconSize: [18, 18],
            iconAnchor: [18, 18],
            popupAnchor: [-9, -17]
        });
    var squareIcon = L.icon({
	        iconUrl: 'square.png',
	        iconSize: [15, 15],
	        iconAnchor: [15, 15],
	        popupAnchor: [-7, -14]
    	});
    var circleIcon = L.icon({
            iconUrl: 'circle.png',
            iconSize: [18, 18],
            iconAnchor: [18, 18],
            popupAnchor: [-9, -17]
    	});
       



	//"data" is the var name in the js script file

    var shelterLayer = L.geoJson(data, {
            pointToLayer: function (feature, latlng) {
                return L.marker(latlng, {
                    icon: starIcon
                });
            },
            filter: function (feature) {
                //          console.log(feature.properties.ImpYear);
                if (feature.properties.Type == 'Shelter') {
                    return feature;
                }
            },
            onEachFeature: function (feature, layer) {
                //            layer.setStyle(
                //                style(feature)
                //            )
                var props = layer.feature.properties;
                //            console.log(layer.feature.properties.University);
            layer.bindPopup("<b>" + props.Name + "</b>" + "<br>" + "<b>" + "Route: " + "</b>" + props.Route_Num);
        }
        }).addTo(map);

	var poleLayer = L.geoJson(data, {
            pointToLayer: function (feature, latlng) {
                return L.marker(latlng, {
                    icon: circleIcon
                });
            },
            filter: function (feature) {
                //          console.log(feature.properties.ImpYear);
                if (feature.properties.Type == 'Pole') {
                    return feature;
                }
            },
            onEachFeature: function (feature, layer) {
                //            layer.setStyle(
                //                style(feature)
                //            )
                var props = layer.feature.properties;
                //            console.log(layer.feature.properties.University);
             layer.bindPopup("<b>" + props.Name + "</b>" + "<br>" + "<b>" + "Route: " + "</b>" + props.Route_Num);
        }
        }).addTo(map);

       var benchLayer = L.geoJson(data, {
            pointToLayer: function (feature, latlng) {
                return L.marker(latlng, {
                    icon: squareIcon
                });
            },
            filter: function (feature) {
                //          console.log(feature.properties.ImpYear);
                if (feature.properties.Type == 'Bench') {
                    return feature;
                }
            },
            onEachFeature: function (feature, layer) {
                //            layer.setStyle(
                //                style(feature)
                //            )
                var props = layer.feature.properties;
                //            console.log(layer.feature.properties.University);
           layer.bindPopup("<b>" + props.Name + "</b>" + "<br>" + "<b>" + "Route: " + "</b>" + props.Route_Num);
        }
        }).addTo(map);     
</script>
<header>

	<!-- title that will show up on the screen -->
	<h1>Lextran Bus Stops</h1>
</header>
	</body>
</html>